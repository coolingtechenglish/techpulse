<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TechPulse | Tech News & Learning</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,400;1,600&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #f5f0e8;
    --cream2: #ede8da;
    --black: #111111;
    --ink: #1a1a1a;
    --red: #d63a2f;
    --yellow: #f5c842;
    --muted: #6b6456;
    --border: #111111;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--cream);
    color: var(--ink);
    font-family: 'Open Sans', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Checkerboard top border */
  body::before {
    content: '';
    display: block;
    height: 18px;
    background-image: repeating-linear-gradient(
      90deg,
      var(--black) 0px, var(--black) 18px,
      var(--cream) 18px, var(--cream) 36px
    );
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 200;
  }

  /* Checkerboard bottom border */
  body::after {
    content: '';
    display: block;
    height: 18px;
    background-image: repeating-linear-gradient(
      90deg,
      var(--cream) 0px, var(--cream) 18px,
      var(--black) 18px, var(--black) 36px
    );
    position: fixed;
    bottom: 0; left: 0; right: 0;
    z-index: 200;
  }

  header {
    position: sticky;
    top: 18px;
    z-index: 100;
    background: var(--cream);
    border-bottom: 3px solid var(--black);
    padding: 0.75rem 2.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.4rem;
    letter-spacing: 5px;
    color: var(--black);
    line-height: 1;
  }

  .logo span { color: var(--red); font-style: italic; }

  .logo-sub {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--muted);
    margin-top: 2px;
  }

  .lang-toggle { display: flex; gap: 0.5rem; align-items: center; }

  .lang-btn {
    background: var(--cream);
    border: 2px solid var(--black);
    color: var(--black);
    padding: 0.35rem 1rem;
    cursor: pointer;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: all 0.15s;
  }

  .lang-btn.active { background: var(--black); color: var(--cream); }
  .lang-btn:hover:not(.active) { background: var(--yellow); }

  .main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2.5rem 2.5rem 4rem;
  }

  /* HERO */
  .hero {
    border: 3px solid var(--black);
    padding: 2.5rem 3rem;
    margin-bottom: 2rem;
    position: relative;
    background: var(--cream);
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 2rem;
    overflow: hidden;
  }

  .hero::before {
    content: '';
    position: absolute;
    top: -40px; right: -40px;
    width: 200px; height: 200px;
    border: 3px solid var(--black);
    border-radius: 50%;
    opacity: 0.06;
  }

  .hero-eyebrow {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 0.5rem;
  }

  .hero-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(4rem, 10vw, 8rem);
    line-height: 0.88;
    letter-spacing: 2px;
    color: var(--black);
    margin-bottom: 1.2rem;
  }

  .hero-title em { font-style: italic; color: var(--red); }

  .hero-sub {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.9rem;
    font-style: italic;
    color: var(--muted);
    line-height: 1.7;
    max-width: 420px;
  }

  .doodle-cup {
    font-size: 5rem;
    line-height: 1;
    opacity: 0.12;
    position: absolute;
    bottom: 1rem; right: 6rem;
    transform: rotate(-10deg);
  }

  .stamp-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 74px; height: 74px;
    border: 3px solid var(--black);
    border-radius: 50%;
    background: var(--yellow);
    font-family: 'Open Sans', sans-serif;
    font-size: 0.6rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    text-align: center;
    line-height: 1.4;
    transform: rotate(-12deg);
    flex-shrink: 0;
  }

  /* FETCH BAR */
  .fetch-bar {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    align-items: center;
    flex-wrap: wrap;
  }

  .fetch-btn {
    background: var(--black);
    color: var(--cream);
    border: 3px solid var(--black);
    padding: 0.85rem 2.2rem;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.2rem;
    letter-spacing: 3px;
    cursor: pointer;
    transition: all 0.15s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    white-space: nowrap;
  }

  .fetch-btn:hover { background: var(--red); border-color: var(--red); transform: translate(-2px,-2px); box-shadow: 4px 4px 0 var(--black); }
  .fetch-btn:active { transform: translate(0,0); box-shadow: none; }
  .fetch-btn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; box-shadow: none; }

  .status-text {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.78rem;
    font-style: italic;
    color: var(--muted);
  }

  /* SECTION LABELS */
  .section-label {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.1rem;
    letter-spacing: 5px;
    color: var(--black);
    margin-bottom: 1.2rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-top: 3px solid var(--black);
    padding-top: 0.75rem;
  }

  .section-label::after {
    content: '';
    flex: 1;
    height: 2px;
    background: repeating-linear-gradient(90deg, var(--black) 0, var(--black) 6px, transparent 6px, transparent 12px);
  }

  /* NEWS GRID */
  .news-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 0;
    margin-bottom: 2.5rem;
    border: 3px solid var(--black);
  }

  .news-card {
    background: var(--cream);
    border-right: 2px solid var(--black);
    border-bottom: 2px solid var(--black);
    padding: 1.5rem;
    cursor: pointer;
    transition: background 0.15s;
    position: relative;
    animation: fadeUp 0.4s ease both;
  }

  .news-card:hover { background: var(--yellow); }

  .card-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  .card-tag {
    display: inline-block;
    background: var(--black);
    color: var(--cream);
    padding: 0.2rem 0.6rem;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .cefr-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 32px;
    height: 22px;
    padding: 0 6px;
    border: 2px solid currentColor;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    flex-shrink: 0;
  }

  .cefr-A1 { background: #d4edda; color: #155724; }
  .cefr-A2 { background: #c3e6cb; color: #1a6930; }
  .cefr-B1 { background: #fff3cd; color: #856404; }
  .cefr-B2 { background: #ffe8a1; color: #6d4c00; }
  .cefr-C1 { background: #f8d7da; color: #721c24; }
  .cefr-C2 { background: #f0b8be; color: #491217; }

  .card-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.3rem;
    line-height: 1.2;
    margin-bottom: 0.6rem;
    color: var(--black);
    letter-spacing: 1px;
  }

  .card-title-zh {
    font-family: 'Open Sans', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    color: var(--black);
    line-height: 1.4;
    margin-bottom: 0.6rem;
    display: none;
  }

  .card-summary {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.82rem;
    color: var(--muted);
    line-height: 1.65;
  }

  .card-summary-zh {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.82rem;
    color: var(--muted);
    line-height: 1.65;
    display: none;
  }

  .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    padding-top: 0.75rem;
    border-top: 1px dashed #bbb;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.7rem;
    color: var(--muted);
  }

  /* VOCAB */
  .vocab-section {
    border: 3px solid var(--black);
    background: var(--cream);
    margin-bottom: 2rem;
    animation: fadeUp 0.5s ease both;
  }

  .vocab-header {
    background: var(--black);
    color: var(--cream);
    padding: 0.75rem 1.5rem;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.1rem;
    letter-spacing: 4px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .vocab-header-sub {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.65rem;
    font-weight: 400;
    letter-spacing: 1px;
    opacity: 0.6;
    font-style: italic;
  }

  .vocab-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 0;
  }

  .vocab-card {
    padding: 1.2rem 1.4rem;
    border-right: 2px solid var(--black);
    border-bottom: 2px solid var(--black);
    transition: background 0.15s;
    animation: fadeUp 0.4s ease both;
    position: relative;
  }

  .vocab-card:hover { background: var(--yellow); }

  .vocab-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.2rem;
    color: rgba(0,0,0,0.07);
    line-height: 1;
    position: absolute;
    top: 0.5rem; right: 0.8rem;
  }

  .vocab-word-line {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 0.15rem;
    flex-wrap: wrap;
  }

  .vocab-word {
    font-family: 'Open Sans', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    color: var(--red);
    letter-spacing: 0.5px;
  }

  .vocab-cefr {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 5px;
    height: 18px;
    border: 1.5px solid currentColor;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.6rem;
    font-weight: 700;
  }

  .vocab-zh {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--black);
    margin-bottom: 0.4rem;
  }

  .vocab-def {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.75rem;
    color: var(--muted);
    line-height: 1.5;
  }

  .vocab-example {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.72rem;
    color: var(--muted);
    font-style: italic;
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px dashed #bbb;
    line-height: 1.5;
  }

  /* LOADING */
  .loading-overlay {
    display: none;
    align-items: center;
    justify-content: center;
    padding: 4rem;
    flex-direction: column;
    gap: 1rem;
  }

  .loading-overlay.visible { display: flex; }

  .spinner {
    width: 36px; height: 36px;
    border: 3px solid #ccc;
    border-top-color: var(--black);
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
  }

  .loading-text {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--muted);
  }

  @keyframes spin { to { transform: rotate(360deg); } }
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* EMPTY STATE */
  .empty-state {
    text-align: center;
    padding: 5rem 2rem;
    border: 3px solid var(--black);
    color: var(--muted);
  }

  .empty-icon { font-size: 3.5rem; margin-bottom: 1rem; opacity: 0.25; }

  .empty-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2rem;
    letter-spacing: 4px;
    margin-bottom: 0.5rem;
    color: var(--black);
    opacity: 0.35;
  }

  .empty-sub {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.82rem;
    font-style: italic;
  }

  .error-msg {
    background: #fdf0ef;
    border: 3px solid var(--red);
    color: var(--red);
    padding: 1rem 1.5rem;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 1rem;
  }

  /* CEFR Legend */
  .cefr-legend {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.25rem;
    align-items: center;
    padding: 0.6rem 1rem;
    border: 2px solid var(--black);
    background: var(--cream2);
  }

  .cefr-legend-label {
    font-family: 'Open Sans', sans-serif;
    font-size: 0.68rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--muted);
    margin-right: 0.5rem;
  }

  .cefr-legend-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-family: 'Open Sans', sans-serif;
    font-size: 0.68rem;
    font-weight: 600;
    color: var(--muted);
  }

  /* Lang visibility */
  body.lang-zh .card-title { display: none; }
  body.lang-zh .card-title-zh { display: block; }
  body.lang-zh .card-summary { display: none; }
  body.lang-zh .card-summary-zh { display: block; }
  body.lang-zh .section-label .en-text { display: none; }
  body.lang-zh .section-label .zh-text { display: inline; }
  body.lang-en .section-label .zh-text { display: none; }

  @media (max-width: 640px) {
    .news-grid { grid-template-columns: 1fr; }
    .vocab-grid { grid-template-columns: 1fr 1fr; }
    header { padding: 0.75rem 1rem; }
    .main { padding: 1.5rem 1rem 4rem; }
    .hero { padding: 1.5rem; flex-direction: column; }
    .hero-title { font-size: 4rem; }
    .fetch-btn { font-size: 1rem; }
    .cefr-legend { gap: 0.35rem; }
  }
</style>
</head>
<body class="lang-en">

<header>
  <div>
    <div class="logo">Tech<span>Pulse</span></div>
    <div class="logo-sub">Your Daily Spark ¬∑ Technology</div>
  </div>
  <div class="lang-toggle">
    <button class="lang-btn active" onclick="setLang('en')">English</button>
    <button class="lang-btn" onclick="setLang('zh')">ÁπÅÈ´î‰∏≠Êñá</button>
  </div>
</header>

<div class="main">

  <!-- HERO -->
  <div class="hero">
    <div>
      <div class="hero-eyebrow">Today's Edition ¬∑ AI-Curated</div>
      <div class="hero-title">TECH<br><em>NEWS.</em></div>
      <p class="hero-sub">Served bright. Morning, reimagined.<br>Bilingual headlines + vocabulary for curious minds.</p>
    </div>
    <div class="stamp-badge">NEW<br>TODAY<br>‚òÖ</div>
    <div class="doodle-cup">‚òï</div>
  </div>

  <!-- FETCH BAR -->
  <div class="fetch-bar">
    <button class="fetch-btn" id="fetchBtn" onclick="fetchNews()">
      ‚ö° <span id="fetchBtnText">FETCH LATEST NEWS</span>
    </button>
    <span class="status-text" id="statusText"></span>
  </div>

  <div id="errorMsg" class="error-msg" style="display:none;"></div>
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <div class="loading-text">Analyzing Headlines...</div>
  </div>

  <div id="newsSection" style="display:none;">

    <!-- CEFR Legend -->
    <div class="cefr-legend">
      <span class="cefr-legend-label">CEFR Level:</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-A1">A1</span> Beginner</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-A2">A2</span> Elementary</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-B1">B1</span> Intermediate</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-B2">B2</span> Upper-Int.</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-C1">C1</span> Advanced</span>
      <span class="cefr-legend-item"><span class="cefr-badge cefr-C2">C2</span> Mastery</span>
    </div>

    <div class="section-label">
      <span class="en-text">Top Stories</span>
      <span class="zh-text">È†≠Ê¢ùÊñ∞ËÅû</span>
    </div>
    <div class="news-grid" id="newsGrid"></div>

    <div class="section-label" style="margin-top:2rem;">
      <span class="en-text">Vocabulary & Phrases</span>
      <span class="zh-text">Ë©ûÂΩôËàáÁâáË™û</span>
    </div>
    <div class="vocab-section">
      <div class="vocab-header">
        <span>Words to Know</span>
        <span class="vocab-header-sub">Rated by CEFR difficulty</span>
      </div>
      <div class="vocab-grid" id="vocabGrid"></div>
    </div>
  </div>

  <div id="emptyState" class="empty-state">
    <div class="empty-icon">üì°</div>
    <div class="empty-title">AWAITING SIGNAL</div>
    <p class="empty-sub">Click "Fetch Latest News" to load AI-curated tech headlines.</p>
  </div>

</div>

<script>
let currentLang = 'en';

function setLang(lang) {
  currentLang = lang;
  document.body.className = `lang-${lang}`;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  document.querySelector(`.lang-btn[onclick="setLang('${lang}')"]`).classList.add('active');
}

function extractJSON(text) {
  text = text.replace(/```json\s*/gi, '').replace(/```\s*/g, '');
  const start = text.indexOf('{');
  const end = text.lastIndexOf('}');
  if (start === -1 || end === -1) throw new Error("No JSON object found in response");
  let jsonStr = text.slice(start, end + 1);
  jsonStr = jsonStr.replace(/,\s*([}\]])/g, '$1');
  jsonStr = jsonStr.replace(/[\u2018\u2019]/g, "'").replace(/[\u201C\u201D]/g, '"');
  return JSON.parse(jsonStr);
}

function getCEFRClass(level) {
  const map = { A1:'cefr-A1', A2:'cefr-A2', B1:'cefr-B1', B2:'cefr-B2', C1:'cefr-C1', C2:'cefr-C2' };
  return map[(level||'').toUpperCase()] || 'cefr-B1';
}

async function fetchNews() {
  const btn = document.getElementById('fetchBtn');
  const btnText = document.getElementById('fetchBtnText');
  const loading = document.getElementById('loadingOverlay');
  const newsSection = document.getElementById('newsSection');
  const emptyState = document.getElementById('emptyState');
  const errorMsg = document.getElementById('errorMsg');

  btn.disabled = true;
  btnText.textContent = 'LOADING...';
  loading.classList.add('visible');
  newsSection.style.display = 'none';
  emptyState.style.display = 'none';
  errorMsg.style.display = 'none';

  try {
    const response = await fetch("https://api.anthropic.com/v1/messages", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        model: "claude-sonnet-4-6",
        max_tokens: 4000,
        tools: [{ "type": "web_search_20250305", "name": "web_search" }],
        messages: [{
          role: "user",
          content: `Search for the 5 most important technology news stories from today or the past 2 days.

After searching, respond with ONLY a raw JSON object ‚Äî no markdown, no backticks, no explanation before or after. Use this exact structure:

{
  "articles": [
    {
      "tag": "category like AI/Hardware/Software/Cybersecurity/Startup",
      "cefr": "B2",
      "title_en": "English title",
      "title_zh": "Traditional Chinese title",
      "summary_en": "2-3 sentence English summary",
      "summary_zh": "2-3 sentence Traditional Chinese summary",
      "source": "source name",
      "date": "today or X days ago"
    }
  ],
  "vocabulary": [
    {
      "word": "English word or phrase",
      "cefr": "B2",
      "zh": "Traditional Chinese translation",
      "definition": "Brief English definition",
      "example": "short example sentence from the news context"
    }
  ]
}

For the "cefr" field on each article, rate the reading difficulty: A1=very simple, A2=simple, B1=intermediate, B2=upper-intermediate, C1=advanced, C2=near-native. Tech news is typically B2-C1.
For each vocabulary word, rate the word difficulty on the CEFR scale.

Return exactly 5 articles and exactly 5 vocabulary items. Raw JSON only ‚Äî nothing else.`
        }]
      })
    });

    if (!response.ok) {
      const errData = await response.json().catch(() => ({}));
      throw new Error(errData.error?.message || `API error: ${response.status}`);
    }

    const data = await response.json();
    const fullText = data.content
      .map(item => item.type === "text" ? item.text : "")
      .filter(Boolean)
      .join("\n");

    if (!fullText.trim()) throw new Error("Empty response from API");

    const newsData = extractJSON(fullText);
    if (!newsData.articles || !newsData.vocabulary) throw new Error("Response missing required fields");

    renderNews(newsData);
    document.getElementById('statusText').textContent = `Updated: ${new Date().toLocaleTimeString()}`;
    newsSection.style.display = 'block';

  } catch (err) {
    console.error("Full error:", err);
    errorMsg.textContent = `‚ö†Ô∏è Error fetching news: ${err.message}. Please try again.`;
    errorMsg.style.display = 'block';
    emptyState.style.display = 'block';
  } finally {
    btn.disabled = false;
    btnText.textContent = 'REFRESH NEWS';
    loading.classList.remove('visible');
  }
}

function escapeHtml(str) {
  if (!str) return '';
  return String(str)
    .replace(/&/g, '&amp;').replace(/</g, '&lt;')
    .replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;');
}

function renderNews(data) {
  const grid = document.getElementById('newsGrid');
  const vocabGrid = document.getElementById('vocabGrid');

  grid.innerHTML = data.articles.map((a, i) => {
    const cefr = (a.cefr || 'B2').toUpperCase();
    return `
    <div class="news-card" style="animation-delay:${i * 0.07}s">
      <div class="card-top">
        <div class="card-tag">${escapeHtml(a.tag)}</div>
        <div class="cefr-badge ${getCEFRClass(cefr)}" title="CEFR Reading Level: ${escapeHtml(cefr)}">${escapeHtml(cefr)}</div>
      </div>
      <div class="card-title">${escapeHtml(a.title_en)}</div>
      <div class="card-title-zh">${escapeHtml(a.title_zh)}</div>
      <div class="card-summary">${escapeHtml(a.summary_en)}</div>
      <div class="card-summary-zh">${escapeHtml(a.summary_zh)}</div>
      <div class="card-footer">
        <span>üì∞ ${escapeHtml(a.source)}</span>
        <span>${escapeHtml(a.date)}</span>
      </div>
    </div>`;
  }).join('');

  vocabGrid.innerHTML = data.vocabulary.map((v, i) => {
    const cefr = (v.cefr || 'B2').toUpperCase();
    return `
    <div class="vocab-card" style="animation-delay:${i * 0.07}s">
      <div class="vocab-num">0${i+1}</div>
      <div class="vocab-word-line">
        <span class="vocab-word">${escapeHtml(v.word)}</span>
        <span class="vocab-cefr ${getCEFRClass(cefr)}">${escapeHtml(cefr)}</span>
      </div>
      <div class="vocab-zh">${escapeHtml(v.zh)}</div>
      <div class="vocab-def">${escapeHtml(v.definition)}</div>
      <div class="vocab-example">"${escapeHtml(v.example)}"</div>
    </div>`;
  }).join('');
}
</script>
</body>
</html>
